# Bettha Back-End Engineer Challenge

***Nota: Utilizaremos os seguintes critérios para a avaliação: Desempenho, Testes, Manutenabilidade e boas práticas de engenharia de software.***

1.- Sua squad irá desenvolver uma nova funcionalidade que irá prover um serviço de validação de cadastro de clientes, ao informar o CNPJ e o CEP do endereço do cliente iremos consultar duas APIs de terceiros, a primeira irá retornar informações da empresa de acordo com o CNPJ e a segunda API irá retornar detalhes de um endereço a partir de um CEP. Com os resultados das duas APIs iremos comparar o endereço do cadastro da empresa obtido pelo CNPJ com o endereço obtido através da consulta do CEP e verificar se as informações de unidade federativa, cidade e logradouro coincidem, e caso o endereço de uma consulta seja encontrada na outra retornaremos HTTP 200 e na negativa um HTTP 404.
Como este novo serviço deverá ser resiliente e essencial para os nossos cadastros, a solução proposta deverá permitir retentativas automáticas em casos de falhas e o chaveamento entre dois provedores de resolução do endereço pelo CEP, ou seja usaremos a API de um provedor como padrão e caso o serviço esteja fora do ar o serviço proposto deverá chamar o segundo provedor automaticamente após "N" tentativas.
Apesar de depender diretamente do consumo de múltiplas APIs de terceiros a resposta do serviço desenvolvido deverá ser síncrono.
Você pode verificar exemplos das APIs utilizadas em [requests_e_responses_apis_questao_1.json](https://github.com/bettha-corp/tech_challenges/blob/main/back_end/requests_e_responses_apis_questao_1.json).
Descreva e detalhe como você implementaria o referido serviço? Não é necessário desenvolver o código a menos que você julgue necessário. Sinta-se a vontade para utilizar diagramas, desenhos, descrição textual, arquitetura, design patterns, etc.

2.- ATENÇÃO: Caso você tenha escrito o código para responder a questão 1, por favor desconsiderar a questão 5 e nos encaminhe o código da questão 1 no lugar. Tomando como base a estrutura do banco de dados fornecida (conforme diagrama [ER_diagram.png](https://github.com/bettha-corp/tech_challenges/blob/main/back_end/ER_diagram.png) e/ou script DDL [1_create_database_ddl.sql](https://github.com/bettha-corp/tech_challenges/blob/main/back_end/1_create_database_ddl.sql), disponibilizados no repositório do github) construa uma API REST em Ruby on Rails que irá criar um usuário. Os campos obrigatórios serão nome, e-mail e papel do usuário. A senha será um campo opcional, caso o usuário não informe uma senha o serviço da API deverá gerar essa senha automaticamente.

3.- Ajude-nos fazendo o ‘Code Review’ do código de um robô/rotina que exporta os dados da tabela “users” de tempos em tempos. O código foi disponibilizado no mesmo repositório do git hub dentro da pasta [bot](https://github.com/bettha-corp/tech_challenges/blob/main/back_end/bot/bot.rb). ***ATENÇÃO: Não é necessário implementar as revisões, basta apenas anota-las em um arquivo texto ou em forma de comentários no código.***
